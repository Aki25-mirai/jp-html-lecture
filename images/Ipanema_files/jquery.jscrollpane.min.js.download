!function(st,t,ot){st.fn.jScrollPane=function(n){function s(r,t){var p,l,c,u,d,h,j,f,v,m,g,w,b,C,H,D,A,x,W,i,k,B,S,T,P,z,M,y,I,R,L,s=this;function X(t){var i,n,s,o,e,a;if(p=t,l==ot)r.css("overflow","hidden"),c=p.paneWidth||r.innerWidth(),u=r.innerHeight(),l=st('<div class="jspPane" />').wrap(st('<div class="jspContainer" />').css({width:c+"px",height:u+"px"})),r.wrapInner(l.parent()),d=r.find(">.jspContainer"),l=d.find(">.jspPane");else{if((a=r.outerWidth()!=c||r.outerHeight()!=u)&&(c=r.innerWidth(),u=r.innerHeight(),d.css({width:c+"px",height:u+"px"})),l.css("width",null),!a&&l.outerWidth()==h&&l.outerHeight()==j)return;d.find(".jspVerticalBar,.jspHorizontalBar").remove().end()}i=l.clone().css("position","absolute"),n=st('<div style="width:1px; position: relative;" />').append(i),st("body").append(n),h=Math.max(l.outerWidth(),i.outerWidth()),n.remove(),j=l.outerHeight(),m=1<(v=j/u),(g=1<(f=h/c))||m?(r.addClass("jspScrollable"),(s=p.maintainPosition&&(C||A))&&(o=K(),e=Z()),m?(d.append(st('<div class="jspVerticalBar" />').append(st('<div class="jspCap jspCapTop" />'),st('<div class="jspTrack" />').append(st('<div class="jspDrag" />').append(st('<div class="jspDragTop" />'),st('<div class="jspDragBottom" />'))),st('<div class="jspCap jspCapBottom" />'))),x=d.find(">.jspVerticalBar"),W=x.find(">.jspTrack"),w=W.find(">.jspDrag"),p.showArrows&&(S=st('<a href="#" class="jspArrow jspArrowUp">Scroll up</a>').bind("mousedown.jsp",q(0,-1)).bind("click.jsp",tt),T=st('<a href="#" class="jspArrow jspArrowDown">Scroll down</a>').bind("mousedown.jsp",q(0,1)).bind("click.jsp",tt),p.arrowScrollOnHover&&(S.bind("mouseover.jsp",q(0,-1,S)),T.bind("mouseover.jsp",q(0,1,T))),V(W,p.verticalArrowPositions,S,T)),k=u,d.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){k-=st(this).outerHeight()}),w.hover(function(){w.addClass("jspHover")},function(){w.removeClass("jspHover")}).bind("mousedown.jsp",function(t){st("html").bind("dragstart.jsp selectstart.jsp",function(){return!1}),w.addClass("jspActive");var i=t.pageY-w.position().top;return st("html").bind("mousemove.jsp",function(t){O(t.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",E),!1}),Y(),N(),d.unbind("mousewheel.jsp").bind("mousewheel.jsp",function(t,i){var n=C;return O(C-i*p.mouseWheelSpeed,!1),n==C})):_(),g&&(d.append(st('<div class="jspHorizontalBar" />').append(st('<div class="jspCap jspCapLeft" />'),st('<div class="jspTrack" />').append(st('<div class="jspDrag" />').append(st('<div class="jspDragLeft" />'),st('<div class="jspDragRight" />'))),st('<div class="jspCap jspCapRight" />'))),P=d.find(">.jspHorizontalBar"),z=P.find(">.jspTrack"),H=z.find(">.jspDrag"),p.showArrows&&(I=st('<a href="#" class="jspArrow jspArrowLeft">Scroll left</a>').bind("mousedown.jsp",q(-1,0)).bind("click.jsp",tt),R=st('<a href="#" class="jspArrow jspArrowRight">Scroll right</a>').bind("mousedown.jsp",q(1,0)).bind("click.jsp",tt),p.arrowScrollOnHover&&(I.bind("mouseover.jsp",q(-1,0,I)),R.bind("mouseover.jsp",q(1,0,R))),V(z,p.horizontalArrowPositions,I,R)),H.hover(function(){H.addClass("jspHover")},function(){H.removeClass("jspHover")}).bind("mousedown.jsp",function(t){st("html").bind("dragstart.jsp selectstart.jsp",function(){return!1}),H.addClass("jspActive");var i=t.pageX-H.position().left;return st("html").bind("mousemove.jsp",function(t){F(t.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",E),!1}),M=d.innerWidth(),G(),Q()),function(){if(g&&m){var t=z.outerHeight(),i=W.outerWidth();k-=t,st(P).find(">.jspCap:visible,>.jspArrow").each(function(){M+=st(this).outerWidth()}),M-=i,u-=i,c-=t,z.parent().append(st('<div class="jspCorner" />').css("width",t+"px")),Y(),G()}g&&l.width(d.outerWidth()+"px");j=l.outerHeight(),v=j/u,g&&((y=1/f*M)>p.horizontalDragMaxWidth?y=p.horizontalDragMaxWidth:y<p.horizontalDragMinWidth&&(y=p.horizontalDragMinWidth),H.width(y+"px"),D=M-y);m&&((B=1/v*k)>p.verticalDragMaxHeight?B=p.verticalDragMaxHeight:B<p.verticalDragMinHeight&&(B=p.verticalDragMinHeight),w.height(B+"px"),b=k-B)}(),s&&($(o),U(e)),l.find(":input,a").bind("focus.jsp",function(){J(this,!1)}),function(){if(location.hash&&1<location.hash.length){var t,i;try{t=st(location.hash)}catch(t){return}t.length&&l.find(t)&&(0==d.scrollTop()?i=setInterval(function(){0<d.scrollTop()&&(J(location.hash,!0),st(document).scrollTop(d.position().top),clearInterval(i))},50):(J(location.hash,!0),st(document).scrollTop(d.position().top)))}}(),p.hijackInternalLinks&&nt()):(r.removeClass("jspScrollable"),l.css("top",0),_(),l.find(":input,a").unbind("focus.jsp"),it()),p.autoReinitialise&&!L?L=setInterval(function(){X(p)},p.autoReinitialiseDelay):!p.autoReinitialise&&L&&clearInterval(L)}function Y(){W.height(k+"px"),C=0,i=p.verticalGutter+W.outerWidth(),l.width(c-i),0==x.position().left&&l.css("margin-left",i+"px")}function G(){d.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){M-=st(this).outerWidth()}),z.width(M+"px"),A=0}function V(t,i,n,s){var o,e="before",a="after";"os"==i&&(i=/Mac/.test(navigator.platform)?"after":"split"),i==e?a=i:i==a&&(e=i,o=n,n=s,s=o),t[e](n)[a](s)}function q(t,i,n){return function(){return function(t,i,n,s){n=st(n).addClass("jspActive");var o,e=setInterval(function(){0!=t&&F(A+t*p.arrowButtonSpeed,!1),0!=i&&O(C+i*p.arrowButtonSpeed,!1)},p.arrowRepeatFreq);o=s==ot?"mouseup.jsp":"mouseout.jsp",(s=s||st("html")).bind(o,function(){n.removeClass("jspActive"),clearInterval(e),s.unbind(o)})}(t,i,this,n),this.blur(),!1}}function E(){st("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),w&&w.removeClass("jspActive"),H&&H.removeClass("jspActive")}function O(t,i){m&&(t<0?t=0:b<t&&(t=b),i==ot&&(i=p.animateScroll),i?s.animate(w,"top",t,n):(w.css("top",t),n(t)))}function n(t){t==ot&&(t=w.position().top),d.scrollTop(0),C=t,N();var i=-(t/b)*(j-u);l.css("top",i)}function F(t,i){g&&(t<0?t=0:D<t&&(t=D),i==ot&&(i=p.animateScroll),i?s.animate(H,"left",t,o):(H.css("left",t),o(t)))}function o(t){t==ot&&(t=H.position().left),d.scrollTop(0),A=t,Q();var i=-(t/D)*(h-c);l.css("left",i)}function N(){p.showArrows&&(S[0==C?"addClass":"removeClass"]("jspDisabled"),T[C==b?"addClass":"removeClass"]("jspDisabled"))}function Q(){p.showArrows&&(I[0==A?"addClass":"removeClass"]("jspDisabled"),R[A==D?"addClass":"removeClass"]("jspDisabled"))}function U(t,i){O(t/(j-u)*b,i)}function $(t,i){F(t/(h-c)*D,i)}function J(t,i,n){var s,o,e,a,r,l=0;try{s=st(t)}catch(t){return}for(o=s.outerHeight(),d.scrollTop(0);!s.is(".jspPane");)if(l+=s.position().top,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;a=(e=Z())+u,l<e||i?r=l-p.verticalGutter:a<l+o&&(r=l-u+o+p.verticalGutter),r&&U(r,n)}function K(){return-l.position().left}function Z(){return-l.position().top}function _(){d.unbind("mousewheel.jsp")}function tt(){return!1}function it(){st("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function nt(){it(),st("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var t,i=this.href.split("#");if(1<i.length&&0<(t=i[1]).length&&0<l.find("#"+t).length)return J("#"+t,!0),!1})}X(t),st.extend(s,{reinitialise:function(t){X(t=st.extend({},t,p))},scrollToElement:function(t,i,n){J(t,i,n)},scrollTo:function(t,i,n){$(t,n),U(i,n)},scrollToX:function(t,i){$(t,i)},scrollToY:function(t,i){U(t,i)},scrollBy:function(t,i,n){s.scrollByX(t,n),s.scrollByY(i,n)},scrollByX:function(t,i){F((K()+t)/(h-c)*D,i)},scrollByY:function(t,i){O((Z()+t)/(j-u)*b,i)},animate:function(t,i,n,s){var o={};o[i]=n,t.animate(o,{duration:p.animateDuration,ease:p.animateEase,queue:!1,step:s})},getContentPositionX:function(){return K()},getContentPositionY:function(){return Z()},getContentPane:function(){return l},scrollToBottom:function(t){O(b,t)},hijackInternalLinks:function(){nt()}})}var o;return n=st.extend({},st.fn.jScrollPane.defaults,n),this.each(function(){var t=st(this),i=t.data("jsp");i?i.reinitialise(n):(i=new s(t,n),t.data("jsp",i)),o=o?o.add(t):t}),o},st.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:10,arrowButtonSpeed:10,arrowRepeatFreq:100,arrowScrollOnHover:!1,verticalArrowPositions:"split",horizontalArrowPositions:"split",paneWidth:ot}}(jQuery);